<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.11.11/lib/p5.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.11.11/lib/addons/p5.sound.min.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css?v=3">
  <meta charset="utf-8" />

</head>

<body>
  <div id="container">
    <div id="sketch-pane">
      <main></main>
      <button id="pane-toggle" title="Toggle side panel">
        <svg width="10" height="16" viewBox="0 0 10 16" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <polyline points="2,2 8,8 2,14" />
        </svg>
      </button>
    </div>
    <div id="search-pane">
      <div id="tab-bar">
        <button class="tab-btn tab-active" data-tab="introduction">
          <span class="tab-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="M18 11V6a2 2 0 0 0-4 0" />
              <path d="M14 10V4a2 2 0 0 0-4 0v6" />
              <path d="M10 10.5V6a2 2 0 0 0-4 0v8" />
              <path d="M18 8a2 2 0 0 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.9-6.1-2.7L3.2 16a2 2 0 0 1 3-2.5L8 15.5" />
              <path d="M2 2l3 2.5M1 6l2 .5" />
            </svg></span>
          Introduction
        </button>
        <button class="tab-btn" data-tab="match-search">
          <span class="tab-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="7" />
              <line x1="16.5" y1="16.5" x2="21" y2="21" />
            </svg></span>
          Match Search
        </button>
        <button class="tab-btn" data-tab="customisation">
          <span class="tab-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <path
                d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.9 0 1.5-.7 1.5-1.5 0-.4-.1-.7-.4-1-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16c3.3 0 6-2.7 6-6 0-5-4.5-9-10-9z" />
              <circle cx="7.5" cy="11.5" r="1.5" fill="currentColor" />
              <circle cx="10.5" cy="7.5" r="1.5" fill="currentColor" />
              <circle cx="14.5" cy="7.5" r="1.5" fill="currentColor" />
              <circle cx="17.5" cy="11.5" r="1.5" fill="currentColor" />
            </svg></span>
          Customisation
        </button>
        <button class="tab-btn" data-tab="share">
          <span class="tab-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <circle cx="18" cy="5" r="3" />
              <circle cx="6" cy="12" r="3" />
              <circle cx="18" cy="19" r="3" />
              <line x1="8.6" y1="13.5" x2="15.4" y2="17.5" />
              <line x1="15.4" y1="6.5" x2="8.6" y2="10.5" />
            </svg></span>
          Share
        </button>
        <button id="tab-bar-fullscreen" title="Fullscreen">
          <span class="icon">â›¶</span>
          <span class="text">Fullscreen</span>
        </button>
      </div>
      <div id="tab-content">
        <div class="tab-panel tab-panel-active" id="tab-introduction">
          <div class="tab-panel-inner">
            <h2>Welcome</h2>
            <p class="tab-placeholder-text">Introduction content coming soon.</p>
          </div>
        </div>
        <div class="tab-panel" id="tab-match-search">
          <div id="search-container">
            <div id="top-controls">
              <div id="random-match-section">
                <button id="random-match-btn">
                  <svg class="icon" width="16" height="16" viewBox="0 0 20 20" fill="none">
                    <rect x="1" y="1" width="18" height="18" rx="2.5" stroke="#999" stroke-width="1.5" />
                    <text x="10" y="14.5" text-anchor="middle" font-size="13" font-weight="bold" fill="#999">?</text>
                  </svg>
                  <span class="text">Load random match</span>
                </button>
              </div>
            </div>
            <div id="search-stack">
              <div id="current-match">
                <h3>Selected Match:</h3>
                <p id="match-display"></p>
              </div>
              <div id="search-scroll">
                <div id="search-labels">
                  <div class="search-label">Year</div>
                  <div class="search-label-with-round">
                    <span class="search-label">Tournament</span>
                    <div id="gender-selector">
                      <button class="gender-btn gender-selected" data-gender="" title="All genders">All</button>
                      <button class="gender-btn" data-gender="W" title="Women's">W</button>
                      <button class="gender-btn" data-gender="M" title="Men's">M</button>
                    </div>
                    <div id="round-selector">
                      <span class="round-label">Round:</span>
                      <button class="round-btn round-in-range" data-round="Q1" title="Qualifiers">Q</button>
                      <button class="round-btn round-in-range" data-round="R128"
                        title="First round (Round of 128)">1<sup>st</sup></button>
                      <button class="round-btn round-in-range" data-round="R64"
                        title="Second round (Round of 64)">2<sup>nd</sup></button>
                      <button class="round-btn round-in-range" data-round="R32"
                        title="Third round (Round of 32)">3<sup>rd</sup></button>
                      <button class="round-btn round-in-range" data-round="R16"
                        title="Fourth round (Round of 16)">4<sup>th</sup></button>
                      <button class="round-btn round-in-range" data-round="QF"
                        title="Quarterfinals (includes Round Robin)">QF</button>
                      <button class="round-btn round-in-range" data-round="SF"
                        title="Semifinals (includes Bronze Medal)">SF</button>
                      <button class="round-btn round-in-range" data-round="F" title="Final">F</button>
                    </div>
                    <span class="search-label players-label">Players</span>
                  </div>
                </div>
                <div id="search-fields">
                  <div id="date-container">
                    <input type="text" id="search-date-year" maxlength="4" autocomplete="off">
                  </div>
                  <input type="text" id="search-tournament" autocomplete="off">
                  <div class="player-field-wrapper" id="player-fields">
                    <input type="text" id="search-player1" autocomplete="off">
                    <span class="player-sep"> vs </span>
                    <input type="text" id="search-player2" autocomplete="off" class="player-field-hidden">
                  </div>
                </div>
              </div>
              <div id="match-count-bar" class="match-count-hidden">
                <span id="match-count-text"></span>
              </div>
              <div id="loading-indicator" class="loading-hidden">
                <div id="progress-text">Loading match database...</div>
                <div id="progress-bar-container">
                  <div id="progress-bar"></div>
                </div>
              </div>
              <div id="dropdown" class="dropdown-hidden"></div>
            </div>
          </div>
        </div>
        <div class="tab-panel" id="tab-customisation">
          <div class="tab-panel-inner">
            <h2>Customisation</h2>
            <p class="tab-placeholder-text">Customisation options coming soon.</p>
          </div>
        </div>
        <div class="tab-panel" id="tab-share">
          <div class="tab-panel-inner">
            <h2>Share</h2>
            <p class="tab-placeholder-text">Sharing options coming soon.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Custom tooltip -->
  <div id="custom-tooltip" class="custom-tooltip hidden"></div>
  <script src="rallyParser.js?v=4"></script>
  <script src="matchData.js?v=4"></script>
  <script src="searchPane.js?v=4"></script>
  <script src="sketch.js?v=4"></script>
</body>

</html>